{"version":3,"file":"component---src-pages-functional-testing-framework-custom-helpers-md-02bd61ac85d48209e4c1.js","mappings":"4RAQaA,EAAe,CAAC,EAOvBC,GALgBC,EAKY,cALJ,SAA6BC,GAEzD,OADAC,QAAQC,KAAK,aAAeH,EAAO,4EAC5B,eAASC,EACjB,GAHqBD,MAMtB,MAAMI,EAAc,CAClBN,gBAEIO,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAHgC,WACjCC,GAEC,EADEP,GACF,YACD,OAAO,SAACI,GAAD,UAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,kBACH,mBACL,SAACV,EAAD,CAAaW,QAAQ,UAAUC,MAAM,OAAOF,QAAQ,iBACpD,kBAAK,8IACL,kBAAK,sKACL,kBAAK,+DACL,oBACE,eAAIG,WAAW,OAAK,uBAAYA,WAAW,MAAO,yBAClD,eAAIA,WAAW,OAAK,uBAAYA,WAAW,MAAO,kBAEpD,kBAAK,4PACL,kBAAK,sJAAoJ,uBAAYA,WAAW,KAAM,YAAyB,aAC/M,eACE,GAAM,WACH,YACL,kBAAK,uFACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBACV,qCAEP,kBAAK,oEACL,oBACE,eAAIA,WAAW,MAAO,mDACtB,eAAIA,WAAW,MAAO,0CACtB,eAAIA,WAAW,MAAO,2CACtB,eAAIA,WAAW,MAAO,+BAExB,kBAAK,kHACL,eACE,GAAM,YACH,aACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,q6CA4CP,eACE,GAAM,6BACH,8BACL,kBAAK,8DACL,oBACE,eAAIA,WAAW,MAAO,QAAM,uBAAYA,WAAW,MAAO,aAA0B,mCAAiC,uBAAYA,WAAW,MAAO,yDACnJ,eAAIA,WAAW,MAAO,mBAAiB,uBAAYA,WAAW,MAAO,kBAA+B,gCAA8B,uBAAYA,WAAW,MAAO,OAAoB,yBACpL,eAAIA,WAAW,MAAO,4CAA0C,uBAAYA,WAAW,MAAO,uFAAoG,MAClM,eAAIA,WAAW,MAAO,sEACtB,eAAIA,WAAW,MAAO,4HAA0H,uBAAYA,WAAW,MAAO,mEAAgF,6CAEhQ,kBAAK,8KACL,eACE,GAAM,yBACH,0BACL,kBAAK,yFACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,4iBAQP,eACE,GAAM,uBACH,wBACL,oBACE,eAAIA,WAAW,MAAO,mJACtB,eAAIA,WAAW,MAAO,QAAM,uBAAYA,WAAW,MAAO,SAAsB,gEAChF,eAAIA,WAAW,MAAO,8CAA4C,uBAAYA,WAAW,MAAO,UAAuB,gBACvH,eAAIA,WAAW,MAAO,mEAAiE,uBAAYA,WAAW,MAAO,WAAwB,6BAA2B,uBAAYA,WAAW,MAAO,+BAA4C,6BAClP,eAAIA,WAAW,MAAO,sFAExB,eACE,GAAM,iBACH,kBACL,kBAAK,0HACL,kBAAK,iGAA+F,cAAGA,WAAW,IAC9G,KAAQ,oGACL,yBAA6B,gEACpC,kBAAK,kGACL,kBAAK,2GACL,eACE,GAAM,cACH,eACL,mBAAG,cAAGA,WAAW,IACb,KAAQ,oGACL,qCAAyC,+CAGnD,CAEDL,EAAWM,gBAAiB,C","sources":["webpack://commerce-testing/./src/pages/functional-testing-framework/custom-helpers.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-testing/commerce-testing/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"custom-helpers\"\n    }}>{`Custom Helpers`}</h1>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Due to complexity, you should only write new custom helpers as a last resort, after trying to implement your test using built-in actions.`}</p>\n    <p>{`Custom Helpers allow test writers to write custom test actions to solve advanced requirements beyond what the Functional Testing Framework offers out of the box.`}</p>\n    <p>{`In version 3.0.0, the following test actions were removed:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<executeInSelenium>`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<performOn>`}</inlineCode></li>\n    </ul>\n    <p>{`These actions were removed because they allowed custom PHP code to be written inline inside of XML files. This code was difficult to read. It had no proper syntax highlighting and no linting. It was difficult to maintain, troubleshoot, and modify.`}</p>\n    <p>{`However, sometimes custom logic beyond what the Functional Testing Framework offers is necessary so we have provided an alternative solution: the `}<inlineCode parentName=\"p\">{`<helper>`}</inlineCode>{` action.`}</p>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`Custom helpers are implemented in PHP files that must be placed in this directory:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`<ModuleName>/Test/Mftf/Helper\n`}</code></pre>\n    <p>{`This custom helper selects text on the page with this approach:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Move to a very specific X,Y starting position.`}</li>\n      <li parentName=\"ol\">{`Click and hold the mouse button down.`}</li>\n      <li parentName=\"ol\">{`Move to another specific X,Y position.`}</li>\n      <li parentName=\"ol\">{`Release the mouse button.`}</li>\n    </ol>\n    <p>{`This functionality is used to select text on the page and cannot be accomplished using built-in test actions.`}</p>\n    <h3 {...{\n      \"id\": \"php-file\"\n    }}>{`PHP file`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`<?php\n/**\n * Copyright &copy; Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nnamespace Magento\\\\PageBuilder\\\\Test\\\\Mftf\\\\Helper;\n\nuse Magento\\\\FunctionalTestingFramework\\\\Helper\\\\Helper;\n\n/**\n * Class SelectText provides an ability to select needed text.\n */\nclass SelectText extends Helper\n{\n    /**\n     * Select needed text.\n     *\n     * @param string $context\n     * @param int $startX\n     * @param int $startY\n     * @param int $endX\n     * @param int $endY\n     * @return void\n     */\n    public function selectText(string $context, int $startX, int $startY, int $endX, int $endY)\n    {\n        try {\n            /** @var \\\\Magento\\\\FunctionalTestingFramework\\\\Module\\\\MagentoWebDriver $webDriver */\n            $webDriver = $this->getModule('\\\\Magento\\\\FunctionalTestingFramework\\\\Module\\\\MagentoWebDriver');\n\n            $contextElement = $webDriver->webDriver->findElement(\\\\Facebook\\\\WebDriver\\\\WebDriverBy::xpath($context));\n            $actions = new \\\\Facebook\\\\WebDriver\\\\Interactions\\\\WebDriverActions($webDriver->webDriver);\n            $actions->moveToElement($contextElement, $startX, $startY)\n                ->clickAndHold()\n                ->moveToElement($contextElement, $endX, $endY)\n                ->release()\n                ->perform();\n        } catch (\\\\Exception $e) {\n            $this->fail($e->getMessage());\n        }\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"notes-about-this-php-file\"\n    }}>{`Notes about this PHP file`}</h3>\n    <p>{`The following details are important about the above file:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`The `}<inlineCode parentName=\"li\">{`namespace`}</inlineCode>{` must match the file location: `}<inlineCode parentName=\"li\">{`namespace Magento\\\\PageBuilder\\\\Test\\\\Mftf\\\\Helper;`}</inlineCode></li>\n      <li parentName=\"ol\">{`The class must `}<inlineCode parentName=\"li\">{`extends Helper`}</inlineCode>{` and have the corresponding `}<inlineCode parentName=\"li\">{`use`}</inlineCode>{` statement to match.`}</li>\n      <li parentName=\"ol\">{`You may access the WebDriver object via `}<inlineCode parentName=\"li\">{`$this->getModule('\\\\Magento\\\\FunctionalTestingFramework\\\\Module\\\\MagentoWebDriver')`}</inlineCode>{`.`}</li>\n      <li parentName=\"ol\">{`You may implement multiple related methods within the same class.`}</li>\n      <li parentName=\"ol\">{`Specify the correct function argument types to match the type of values you want to pass in. In this case, we specified `}<inlineCode parentName=\"li\">{`string $context, int $startX, int $startY, int $endX, int $endY`}</inlineCode>{`. In the XML we will match these types.`}</li>\n    </ol>\n    <p>{`You should follow the same patterns in any custom helpers that you write yourself, but you may implement any logic or iteration that you need to solve for your use case.`}</p>\n    <h3 {...{\n      \"id\": \"referencing-in-a-test\"\n    }}>{`Referencing in a test`}</h3>\n    <p>{`Once you have implemented something like the above PHP file, reference it in a test:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<helper class=\"\\\\Magento\\\\PageBuilder\\\\Test\\\\Mftf\\\\Helper\\\\SelectText\" method=\"selectText\" stepKey=\"selectHeadingTextInTinyMCE\">\n    <argument name=\"context\">//div[contains(@class, 'inline-wysiwyg')]//h2</argument>\n    <argument name=\"startX\">{{TinyMCEPartialHeadingSelection.startX}}</argument>\n    <argument name=\"startY\">{{TinyMCEPartialHeadingSelection.startY}}</argument>\n    <argument name=\"endX\">{{TinyMCEPartialHeadingSelection.endX}}</argument>\n    <argument name=\"endY\">{{TinyMCEPartialHeadingSelection.endY}}</argument>\n</helper>\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"notes-about-the-xml\"\n    }}>{`Notes about the XML`}</h3>\n    <ol>\n      <li parentName=\"ol\">{`Specify an argument value for every argument that matches our PHP implementation. This allows us to pass other test data to the Custom Helper.`}</li>\n      <li parentName=\"ol\">{`The `}<inlineCode parentName=\"li\">{`class`}</inlineCode>{` attribute matches the namespace specified in the PHP file.`}</li>\n      <li parentName=\"ol\">{`Specify the method from the class via the `}<inlineCode parentName=\"li\">{`method`}</inlineCode>{` attribute.`}</li>\n      <li parentName=\"ol\">{`If the function has a return value, it will be assigned to the `}<inlineCode parentName=\"li\">{`stepKey`}</inlineCode>{` variable. In this case, `}<inlineCode parentName=\"li\">{`$selectHeadingTextInTinyMCE`}</inlineCode>{` holds the return value.`}</li>\n      <li parentName=\"ol\">{`The types of argument values must match the PHP implementation's expected types.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"key-takeaways\"\n    }}>{`Key takeaways`}</h2>\n    <p>{`Custom helpers allow you to solve complex use cases such as conditional logic, iteration, or complex WebDriver usage.`}</p>\n    <p>{`With access to the WebDriver object, you have a lot of flexibility available to you. See the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/Codeception/module-webdriver/blob/master/src/Codeception/Module/WebDriver.php\"\n      }}>{`Codeception WebDriver`}</a>{` for technical details and functionality available for use.`}</p>\n    <p>{`A custom helper is written in a PHP file and then referenced in test XML, like other actions.`}</p>\n    <p>{`You should only use these as a last resort after trying to implement your test using built-in actions.`}</p>\n    <h2 {...{\n      \"id\": \"references\"\n    }}>{`References`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/Codeception/module-webdriver/blob/master/src/Codeception/Module/WebDriver.php\"\n      }}>{`Codeception WebDriver source code`}</a>{` - Reference for using the WebDriver Object`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","InlineAlert","name","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","variant","slots","parentName","isMDXComponent"],"sourceRoot":""}